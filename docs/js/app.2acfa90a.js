(function(e){function t(t){for(var n,i,l=t[0],s=t[1],u=t[2],c=0,p=[];c<l.length;c++)i=l[c],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,i=1;i<o.length;i++){var s=o[i];0!==a[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},a={app:0},r=[];function i(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b89f5713"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.e=function(e){var t=[],o=a[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=n);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(e);var u=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(c);var o=a[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",u.name="ChunkLoadError",u.type=n,u.request=r,o[1](u)}a[e]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=u;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0e54":function(e,t,o){},"20c4":function(e,t,o){"use strict";o("0e54")},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),t("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),t("router-view")],1)},r=[],i=(o("20c4"),o("2877")),l={},s=Object(i["a"])(l,a,r,!1,null,null,null),u=s.exports,c=o("8c4f"),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("h3",[e._v("1. 封装下拉分页远程搜索以及数据反显")]),t("RemoteSelect",{attrs:{value:e.remoteValue,api:"/test/select",optionName:"optionName",rows:10,option:{code:"optionCode",name:"optionName"}},on:{updateValue:t=>e.value=t,clear:()=>e.remoteValue={}}})],1)},p=[],h=function(){var e=this,t=e._self._c;return t("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],attrs:{placeholder:"请选择",size:"mini",filterable:"",clearable:"",remote:"",height:"auto",loading:e.loading,"remote-method":e.remoteMethod},on:{change:e.handleValueChange,"visible-change":e.handleVisible,clear:e.handleClearSelected},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.optionsSelect,(function(o){return t("el-option",{key:o[e.option.code],attrs:{label:o[e.option.name],value:o[e.option.code]}})})),1)},m=[],f=(o("13d5"),{name:"RemoteSelect",data(){return{selectValue:"",loading:!1,optionsSelect:[],opEntityToName:"",srcollNum:1,selTotal:0}},props:{value:{type:Object,default:()=>({})},api:{type:String,default:"",required:!0},optionName:{type:String,default:"optionName"},rows:{type:Number,default:10},option:{type:Object,required:!0,default:()=>({code:"optionCode",name:"optionName"})}},methods:{loadMore(){this.srcollNum++,this.srcollNum<this.selTotal/this.rows+1&&this.handleLikeSearch(this.opEntityToName)},remoteMethod(e){this.srcollNum=1,this.opEntityToName=e,""!==e?(this.loading=!0,setTimeout(()=>{this.loading=!1,this.handleLikeSearch(e)},200)):this.handleLikeSearch()},handleLikeSearch(e){this.$axios.post(this.api,{page:this.srcollNum,[this.optionName]:e,rows:this.rows}).then(t=>{1==this.srcollNum?this.optionsSelect=t.data.data:this.optionsSelect.push(...t.data.data),Object.keys(this.value).length&&!e&&(this.selectValue=this.value.code,this.optionsSelect.unshift({[this.option.code]:this.value.code,[this.option.name]:this.value.name})),this.optionsSelect=this.optionsSelect.reduce((e,t)=>(-1===e.findIndex(e=>e[this.option.code]===t[this.option.code])&&e.push(t),e),[]),this.selTotal=t.data.records}).catch(e=>{console.log(e)})},handleValueChange(e){e?this.$emit("updateValue",e):(this.srcollNum=1,this.opEntityToName="",this.handleLikeSearch(""))},handleVisible(e){e&&!this.selectValue&&(this.srcollNum=1,this.opEntityToName="",this.handleLikeSearch(""))},handleClearSelected(){this.$emit("clear")}},created(){},mounted(){this.handleLikeSearch()}}),v=f,b=Object(i["a"])(v,h,m,!1,null,"75f19157",null),g=b.exports,y={name:"Home",components:{RemoteSelect:g},data(){return{value:"",remoteValue:{code:"xa",name:"西安"}}}},S=y,w=Object(i["a"])(S,d,p,!1,null,null,null),N=w.exports;n["default"].use(c["a"]);const _=[{path:"/",name:"Home",component:N},{path:"/about",name:"About",component:()=>o.e("about").then(o.bind(null,"f820"))}],k=new c["a"]({mode:"history",base:"",routes:_});var j=k,O=o("2f62");n["default"].use(O["a"]);var x=new O["a"].Store({state:{},mutations:{},actions:{},modules:{}}),T=o("5c96"),V=o.n(T);o("0fae");n["default"].directive("loadmore",{bind(e,t){const o=e.querySelector(".el-select-dropdown .el-select-dropdown__wrap");o.addEventListener("scroll",(function(){const e=this.scrollHeight-this.scrollTop-5<=this.clientHeight;e&&t.value()}))}});var L=o("bc3a"),C=o.n(L);n["default"].prototype.$axios=C.a,C.a.defaults.baseURL="https://api.kinxpeng.com:3000/",n["default"].config.productionTip=!1,n["default"].use(V.a),new n["default"]({router:j,store:x,render:e=>e(u)}).$mount("#app")}});